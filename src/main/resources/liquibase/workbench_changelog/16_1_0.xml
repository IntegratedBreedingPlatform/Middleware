<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
				   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

	<changeSet author="cuenyad" id="v16.1.0-2">
		<preConditions onFail="MARK_RAN">
			  <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_sidebar_category WHERE sidebar_category_name = 'queries'
            </sqlCheck>
        </preConditions>
        <comment>Add Queries in workbench_sidebar_category</comment>
		<sql dbms="mysql" splitStatements="true">
			INSERT INTO workbench_sidebar_category (sidebar_category_name, sidebar_category_label) VALUES ('queries', 'Queries');
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-3">
		<preConditions onFail="MARK_RAN">
			  <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_sidebar_category WHERE sidebar_category_name = 'genotyping'
            </sqlCheck>
        </preConditions>
        <comment>Add Genotyping in workbench_sidebar_category</comment>
		<sql dbms="mysql" splitStatements="true">
			INSERT INTO workbench_sidebar_category (sidebar_category_name, sidebar_category_label) VALUES ('genotyping', 'Genotyping');
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-4">
		<preConditions onFail="MARK_RAN">
			  <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_sidebar_category WHERE sidebar_category_name = 'crop_administration'
            </sqlCheck>
        </preConditions>
        <comment>Add Crop Administration in workbench_sidebar_category</comment>
		<sql dbms="mysql" splitStatements="true">
			INSERT INTO workbench_sidebar_category (sidebar_category_name, sidebar_category_label) VALUES ('crop_administration', 'Crop Administration');
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-5">
		<preConditions onFail="MARK_RAN">
			  <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_tool WHERE name = 'germplasm_lists'
            </sqlCheck>
        </preConditions>
        <comment>Add Germplasm lists side menu</comment>
		<sql dbms="mysql" splitStatements="true">
			INSERT INTO workbench_tool (name, group_name, title, version, tool_type, path, parameter, user_tool) VALUES ('germplasm_lists', 'germplasm_lists', 'Germplasm lists', '16.1', 'WEB', 'ibpworkbench/bm/listmanager', '', '0');
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-6">
		<preConditions onFail="MARK_RAN">
			  <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_tool WHERE name = 'high_density'
            </sqlCheck>
        </preConditions>
        <comment>Add High density side menu</comment>
		<sql dbms="mysql" splitStatements="true">
			INSERT INTO workbench_tool (name, group_name, title, version, tool_type, path, parameter, user_tool) VALUES ( 'high_density', 'high_density', 'High density', '16.1', 'WEB', '/ibpworkbench/controller/accessNotAvailable', '', '0');
		</sql>
	</changeSet>
		<changeSet author="cuenyad" id="v16.1.0-7">
		<preConditions onFail="MARK_RAN">
			<sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_sidebar_category_link WHERE tool_name = 'germplasm_lists'
        </sqlCheck>
        </preConditions>
        <comment>Add Germpalsm Lists side menu</comment>
		<sql dbms="mysql" splitStatements="true">
            set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'statistical_analysis');
			INSERT INTO workbench_sidebar_category_link (tool_name, sidebar_category_id, sidebar_link_name, sidebar_link_title) VALUES ('germplasm_lists', @sidebar_category_id, 'germplasm_lists', 'Germplasm Lists');
		</sql>
	</changeSet>
    <changeSet author="cuenyad" id="v16.1.0-8">
	    <preConditions onFail="MARK_RAN">
		    <sqlCheck expectedResult="0">
                SELECT count(*) FROM workbench_sidebar_category_link WHERE tool_name = 'high_density'
            </sqlCheck>
        </preConditions>
        <comment>Add High Density side menu</comment>
		<sql dbms="mysql" splitStatements="true">
            set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'genotyping');
			INSERT INTO workbench_sidebar_category_link (tool_name, sidebar_category_id, sidebar_link_name, sidebar_link_title) VALUES ('high_density', @sidebar_category_id, 'high_density', 'High density');
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-9">
		<preConditions onFail="MARK_RAN">
			<tableExists tableName="workbench_sidebar_category"/>
			<not>
				<columnExists tableName="workbench_sidebar_category" columnName="rank"/>
			</not>
        </preConditions>
                <comment>Add Rank column in workbench_sidebar_category</comment>
		<sql dbms="mysql" splitStatements="true">
			ALTER TABLE workbench_sidebar_category add column rank int null after sidebar_category_label;
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-10">
		<preConditions onFail="MARK_RAN">
			<tableExists tableName="workbench_sidebar_category"/>
			<columnExists tableName="workbench_sidebar_category" columnName="rank"/>
        </preConditions>
                <comment>update Rank in workbench_sidebar_category</comment>
		<sql dbms="mysql" splitStatements="true">
			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'statistical_analysis');
			UPDATE workbench_sidebar_category SET sidebar_category_name = 'lists', sidebar_category_label = 'Lists', rank = 1 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'activities');
			UPDATE workbench_sidebar_category SET sidebar_category_name = 'germplasm', sidebar_category_label = 'Germplasm', rank = 2 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'information_mgt');
			UPDATE workbench_sidebar_category SET sidebar_category_name = 'studies', sidebar_category_label = 'Studies', rank = 3 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'inventory_manager');
			UPDATE workbench_sidebar_category SET sidebar_category_name = 'inventory', sidebar_category_label = 'Inventory', rank = 4 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Queries');
			UPDATE workbench_sidebar_category SET rank = 5 WHERE  sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Genotyping');
			UPDATE workbench_sidebar_category SET rank = 6 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'crop_administration');
			UPDATE workbench_sidebar_category SET rank = 7 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'admin');
			UPDATE workbench_sidebar_category SET sidebar_category_name = 'program_administration', rank = 8 WHERE sidebar_category_id = @sidebar_category_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'additional_tools');
			UPDATE workbench_sidebar_category SET rank = 9 WHERE sidebar_category_id = @sidebar_category_id;
		</sql>
	</changeSet>
	<changeSet author="cuenyad" id="v16.1.0-11">
    	<preConditions onFail="MARK_RAN">
			<tableExists tableName="workbench_sidebar_category_link"/>
			<not>
				<columnExists tableName="workbench_sidebar_category_link" columnName="rank"/>
			</not>
        </preConditions>
        <comment>Add Rank column in workbench_sidebar_category_link</comment>
		<sql dbms="mysql" splitStatements="true">
			ALTER TABLE workbench_sidebar_category_link add column rank int null after sidebar_link_title;
		</sql>
	</changeSet>
    <changeSet author="cuenyad" id="v16.1.0-12">
    	<preConditions onFail="MARK_RAN">
			<tableExists tableName="workbench_sidebar_category_link"/>
    		<columnExists tableName="workbench_sidebar_category_link" columnName="rank"/>
        </preConditions>
        <comment>update Rank in workbench_sidebar_category_link</comment>
		<sql dbms="mysql" splitStatements="true">
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'bm_list_manager_main');
			UPDATE workbench_sidebar_category_link SET rank = '1' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Germplasm');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'germplasm_import');
			UPDATE workbench_sidebar_category_link SET rank = '2', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Genotyping');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'gdms');
			UPDATE workbench_sidebar_category_link SET rank = '1', sidebar_category_id = @sidebar_category_id, sidebar_link_title = 'Low density (GDMS)' where sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'crop_administration');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'ontology_manager');
			UPDATE workbench_sidebar_category_link SET rank = '1', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Queries');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'graphical_queries');
			UPDATE workbench_sidebar_category_link SET rank = '1', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'germplasm_mainheadtohead');
			UPDATE workbench_sidebar_category_link SET rank = '2', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'trait_donor_query');
			UPDATE workbench_sidebar_category_link SET rank = '3', sidebar_category_id = @sidebar_category_id  WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'Studies');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'study_manager_fieldbook_web');
			UPDATE workbench_sidebar_category_link SET rank = '1', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'study_browser');
			UPDATE workbench_sidebar_category_link SET rank = '2' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'dataset_importer');
			UPDATE workbench_sidebar_category_link SET rank = '3' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'breeding_view_wb');
			UPDATE workbench_sidebar_category_link SET rank = '4', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'breeding_gxe');
			UPDATE workbench_sidebar_category_link SET rank = '5', sidebar_category_id = @sidebar_category_id WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'manage_program');
			UPDATE workbench_sidebar_category_link SET rank = '1' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'backup_restore');
			UPDATE workbench_sidebar_category_link SET rank = '2' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_id = (select sidebar_category_id from workbench_sidebar_category where sidebar_category_name = 'lists');
			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'sample_manager');
			UPDATE workbench_sidebar_category_link SET rank = '2', sidebar_category_id = @sidebar_category_id, sidebar_link_title = 'Samples Lists' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'inventory_manager');
			UPDATE workbench_sidebar_category_link SET rank = '1' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'germplasm_lists');
			UPDATE workbench_sidebar_category_link SET rank = '1' WHERE sidebar_category_link_id = @sidebar_category_link_id;

			set @sidebar_category_link_id = (select sidebar_category_link_id from workbench_sidebar_category_link where tool_name = 'high_density');
			UPDATE workbench_sidebar_category_link SET rank = '2' WHERE sidebar_category_link_id = @sidebar_category_link_id;
		</sql>
	</changeSet>
    <changeSet author="diego" id="v16.1.0-13">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM permission where name = 'QUERIES'</sqlCheck>
        </preConditions>
        <comment>INSERT permission for QUERIES</comment>
        <sql dbms="mysql" splitStatements="true">
        	INSERT INTO permission (name, description, parent_id) VALUES ('QUERIES', 'Queries', '1');
        </sql>
    </changeSet>
    <changeSet author="diego" id="v16.1.0-14">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM permission where name = 'GENOTYPING'</sqlCheck>
        </preConditions>
        <comment>INSERT permission for GENOTYPING</comment>
        <sql dbms="mysql" splitStatements="true">
        	INSERT INTO permission (name, description, parent_id) VALUES ('GENOTYPING', 'Genotyping', '1');
        </sql>
    </changeSet>
    <changeSet author="diego" id="v16.1.0-15">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM permission where name = 'CROP_ADMINISTRATION'</sqlCheck>
        </preConditions>
        <comment>INSERT permission for CROP_ADMINISTRATION</comment>
        <sql dbms="mysql" splitStatements="true">
        	INSERT INTO permission (name, description, parent_id) VALUES ('CROP_ADMINISTRATION', 'Crop Administration', '1');
        </sql>
    </changeSet>
    <changeSet author="diego" id="v16.1.0-16">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM permission where name = 'HIGH_DENSITY'</sqlCheck>
        </preConditions>
        <comment>INSERT permission for HIGH_DENSITY</comment>
        <sql dbms="mysql" splitStatements="true">
			set @sidebar_category_link_id = (SELECT sidebar_category_link_id FROM workbench_sidebar_category_link WHERE tool_name = 'GERMPLASM_LISTS');
			set @parent_id = (SELECT permission_id FROM permission WHERE name = 'GENOTYPING');
        	INSERT INTO permission (name, description, parent_id, workbench_sidebar_category_link_id) VALUES ('HIGH_DENSITY', 'High Density', @parent_id, @sidebar_category_link_id);
        </sql>
    </changeSet>
    <changeSet author="diego" id="v16.1.0-17">
        <preConditions onFail="MARK_RAN">
        </preConditions>
        <comment>Reorganize parent permissions</comment>
        <sql dbms="mysql" splitStatements="true">
        	set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'BREEDING_ACTIVITIES'); 
			UPDATE permission SET description = 'Germplasm', name= 'GERMPLASM' WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'INFORMATION_MANAGEMENT'); 
			UPDATE permission SET description = 'Studies', name= 'STUDIES' WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'STATISTICAL_ANALYSIS'); 
			UPDATE permission SET description = 'Lists', name= 'LISTS' WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'MANAGE_GENOTYPING_DATA');
        	set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING');
			UPDATE permission SET description = 'Low density (GDMS)', name= 'LOW_DENSITY' , parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'MANAGE_SAMPLES');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'LISTS');
			UPDATE permission SET description = 'Samples lists', name= 'SAMPLE_LISTS', parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'GRAPHICAL_QUERIES');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'QUERIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;

			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'CROP_MANAGEMENT');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'MANAGE_STUDIES');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'STUDIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'HEAD_TO_HEAD_QUERY');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'QUERIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'MULTI_TRAIT_QUERY');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'QUERIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'SINGLE_SITE_ANALYSIS');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'STUDIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'MULTI_SITE_ANALYSIS');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'STUDIES');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
			
			set @permission_id = (SELECT permission_id FROM permission WHERE NAME = 'IMPORT_GERMPLASM');
			set @parent_id = (SELECT permission_id FROM permission WHERE NAME = 'GERMPLASM');
			UPDATE permission SET parent_id = @parent_id WHERE permission_id = @permission_id;
        </sql>
    </changeSet>
	<changeSet author="diego" id="v16.1.0-18">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM permission where name ='GERMPLASM_LISTS'</sqlCheck>
        </preConditions>
        <comment>INSERT permission for GERMPLASM_LISTS</comment>
        <sql dbms="mysql" splitStatements="true">
			set @sidebar_category_link_id = (SELECT sidebar_category_link_id FROM workbench_sidebar_category_link WHERE tool_name = 'HIGH_DENSITY');
			set @parent_id = (SELECT permission_id FROM permission WHERE name ='LISTS');
			INSERT INTO permission (name, description, parent_id, workbench_sidebar_category_link_id) VALUES ('GERMPLASM_LISTS', 'Germplasm Lists', @parent_id, @sidebar_category_link_id);
		</sql>
    </changeSet>

	<changeSet author="diego" id="v16.1.0-19">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM role_type_permission where permission_id  = (SELECT permission_id FROM permission WHERE NAME = 'QUERIES')</sqlCheck>
        </preConditions>
        <comment>Adding role_type_permission permissions</comment>
        <sql dbms="mysql" splitStatements="true">
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('1', (SELECT permission_id FROM permission WHERE NAME = 'QUERIES'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('2', (SELECT permission_id FROM permission WHERE NAME = 'QUERIES'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('3', (SELECT permission_id FROM permission WHERE NAME = 'QUERIES'), '1');

        </sql>
    </changeSet>
	<changeSet author="diego" id="v16.1.0-20">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM role_type_permission where permission_id  = (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING')</sqlCheck>
        </preConditions>
        <comment>Adding role_type_permission permissions</comment>
        <sql dbms="mysql" splitStatements="true">
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('1', (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('2', (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('3', (SELECT permission_id FROM permission WHERE NAME = 'GENOTYPING'), '1');
        </sql>
    </changeSet>
	<changeSet author="diego" id="v16.1.0-21">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM role_type_permission where permission_id  = (SELECT permission_id FROM permission WHERE NAME = 'HIGH_DENSITY')</sqlCheck>
        </preConditions>
        <comment>Adding role_type_permission permissions</comment>
        <sql dbms="mysql" splitStatements="true">
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('1', (SELECT permission_id FROM permission WHERE NAME = 'HIGH_DENSITY'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('2', (SELECT permission_id FROM permission WHERE NAME = 'HIGH_DENSITY'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('3', (SELECT permission_id FROM permission WHERE NAME = 'HIGH_DENSITY'), '1');
        </sql>
    </changeSet>
	<changeSet author="diego" id="v16.1.0-22">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">SELECT count(*) FROM role_type_permission where permission_id  = (SELECT permission_id FROM permission WHERE NAME = 'GERMPLASM_LISTS')</sqlCheck>
        </preConditions>
        <comment>Adding role_type_permission permissions</comment>
        <sql dbms="mysql" splitStatements="true">
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('1', (SELECT permission_id FROM permission WHERE NAME = 'GERMPLASM_LISTS'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('2', (SELECT permission_id FROM permission WHERE NAME = 'GERMPLASM_LISTS'), '1');
            INSERT INTO role_type_permission (role_type_id, permission_id, selectable) VALUES ('3', (SELECT permission_id FROM permission WHERE NAME = 'GERMPLASM_LISTS'), '1');
        </sql>
    </changeSet>
</databaseChangeLog>

