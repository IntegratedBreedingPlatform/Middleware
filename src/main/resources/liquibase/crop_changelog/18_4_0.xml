<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
				   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
		http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">


	<changeSet author="nahuel" id="v18.4.0-1" >
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="file_metadata"/>
			</not>
		</preConditions>
		<comment>Create file_metadata</comment>
        <sql dbms="mysql" splitStatements="true">
			create table file_metadata
			(
				file_id int auto_increment
					primary key,
				file_uuid varchar(36) not null,
				name varchar(255) null,
				description varchar(255) null,
				copyright varchar(255) null,
				image_size int null comment 'in bytes',
				image_height int null comment 'in pixels',
				image_width int null comment 'in pixels',
				image_location text null comment 'geojson',
				path varchar(2000) null,
				mime_type varchar(255) null,
				file_timestamp timestamp null,
				created_by int null,
				modified_by int null,
				created_date timestamp default CURRENT_TIMESTAMP null,
				modified_date timestamp null
			);
		</sql>
	</changeSet>
</databaseChangeLog>
